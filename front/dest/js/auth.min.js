function Auth(){this.maskWrapper=$(".mask-wrapper")}function sleep(n){for(var t=(new Date).getTime();!((new Date).getTime()-t>n););}$(function(){$("#btn").click(function(){$(".mask-wrapper").show()}),$(".close-btn").click(function(){$(".mask-wrapper").hide()})}),$(function(){$(".switch_signup").click(function(){$(".scroll-wrapper").css({left:-400})}),$(".switch_signin").click(function(){$(".scroll-wrapper").css({left:0})})}),Auth.prototype.run=function(){this.listenShowHideEvent(),this.listenSigninEvent()},Auth.prototype.showEvent=function(){this.maskWrapper.show()},Auth.prototype.hideEvent=function(){this.maskWrapper.hide()},Auth.prototype.listenShowHideEvent=function(){var n=this;$(".signIn-btn").click(function(){n.showEvent(),$(".scroll-wrapper").css({left:0})}),$(".signup-btn").click(function(){n.showEvent(),$(".scroll-wrapper").css({left:-400})}),$(".close-btn").click(function(){n.hideEvent()})},Auth.prototype.listenSigninEvent=function(){var o=this,n=$(".signin-group"),i=n.find("input[name='telephone']"),s=n.find("input[name='password']"),c=n.find("input[name='remember']");n.find(".submit-btn").click(function(){var n=i.val(),t=s.val(),e=c.prop("checked");$.ajax({type:"post",url:"/account/login/",data:{telephone:n,password:t,remember:e?1:0},async:!0,dataType:"json",success:function(n){if(200==n.code)o.hideEvent(),window.location.reload();else if("string"==typeof(t=n.message)&&""!=t)window.messageBox.show(t);else{var t=n.data;for(var e in t){var i=t[e][0];window.messageBox.show(i)}}},error:function(n){console.log(n)}})})},$(function(){(new Auth).run()});