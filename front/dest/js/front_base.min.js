function Auth(){this.maskWrapper=$(".mask-wrapper")}function sleep(n){for(var t=(new Date).getTime();!((new Date).getTime()-t>n););}function FrontBase(){}$(function(){$("#btn").click(function(){$(".mask-wrapper").show()}),$(".close-btn").click(function(){$(".mask-wrapper").hide()})}),$(function(){$(".switch_signup").click(function(){$(".scroll-wrapper").css({left:-400})}),$(".switch_signin").click(function(){$(".scroll-wrapper").css({left:0})})}),Auth.prototype.run=function(){this.listenShowHideEvent(),this.listenSigninEvent()},Auth.prototype.showEvent=function(){this.maskWrapper.show()},Auth.prototype.hideEvent=function(){this.maskWrapper.hide()},Auth.prototype.listenShowHideEvent=function(){var n=this;$(".signIn-btn").click(function(){n.showEvent(),$(".scroll-wrapper").css({left:0})}),$(".signup-btn").click(function(){n.showEvent(),$(".scroll-wrapper").css({left:-400})}),$(".close-btn").click(function(){n.hideEvent()})},Auth.prototype.listenSigninEvent=function(){var i=this,n=$(".signin-group"),o=n.find("input[name='telephone']"),s=n.find("input[name='password']"),r=n.find("input[name='remember']");n.find(".submit-btn").click(function(){var n=o.val(),t=s.val(),e=r.prop("checked");$.ajax({type:"post",url:"/account/login/",data:{telephone:n,password:t,remember:e?1:0},async:!0,dataType:"json",success:function(n){if(200==n.code)i.hideEvent(),window.location.reload();else if("string"==typeof(t=n.message)&&""!=t)window.messageBox.show(t);else{var t=n.data;for(var e in t){var o=t[e][0];window.messageBox.show(o)}}},error:function(n){console.log(n)}})})},FrontBase.prototype.run=function(){this.listenAuthBoxHover(),this.handleNavStatus()},FrontBase.prototype.listenAuthBoxHover=function(){var n=$(".auth-box"),t=$(".user-more-box");n.hover(function(){t.show()},function(){t.hide()})},FrontBase.prototype.handleNavStatus=function(){var n=window.location.href,t=window.location.protocol+"//"+window.location.host,o=n.replace(t,"");$(".nav li").each(function(n,t){var e=$(t);if(e.children("a").attr("href")===o)return e.addClass("active"),!1})},$(function(){(new Auth).run()}),$(function(){(new FrontBase).run()});